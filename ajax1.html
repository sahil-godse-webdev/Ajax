
<html>
<head><title>Learning Ajax</title></head>
<body>
	<p id="p1">
		Welcome to first <strong>Ajax Lecture</strong>
	</p>
	<p><button id="b1">Click Here??</button></p>
	<script>
		document.getElementById("b1").addEventListener("click",load);
		function load(){
			if(window.XMLHttpRequest){
				var xhr=new XMLHttpRequest();	
			}
			else{
				var xhr=new ActiveXObject("Microsoft.XMLHttp");
			}
			
			
			xhr.open('POST','home.html?fname=Sahil&lname=Godse',true);
			/*xhr.onload=function(){
				if(this.status==200){
					document.getElementById("p1").innerHTML=this.responseText;
				}
			}*/
			
			xhr.onreadystatechange=function(){
				if(xhr.readyState==4 && xhr.status== 200){
					document.getElementById("p1").innerHTML=this.setRequestHeader("Last-Modified",1);
		
				}
			}
			xhr.send("fname=Henry&lname=Ford");
		}
		//status::
		//403 :: Forbidden
		//404 :: Not found

		//onreadystateChange
		//0: request not initialized
		//1: server connection established
		//2: request received
		//3: processing request
		//4: request finished and response is ready  

		//GET
		//POST- setRequestHeader getResponseHeader getAllResponseHeaders()
		//Callback while creating Object

	</script>
	
</body>
</html>
