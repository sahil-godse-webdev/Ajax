<html>
    <head>
        <title>AJAX and PHP</title>
    </head>

    <body>
        <p>
            <h2>AJAX GET FORM</h2>
            <form id="getform">
                <label>Enter Name:</label>
                <input type="text" id="name"><br>
                <input type="submit">
            </form>

        </p>
        <p>
            <strong id="str1"></strong>
        </p>

        <p>
                <h2>AJAX POST FORM</h2>
                <form id="postform">
                    <label>Enter Name:</label>
                    <input type="text" id="name2"><br>
                    <input type="submit">
                </form>
    
            </p>
            <p>
                <strong id="str2"></strong>
        </p>
        <script>
            document.getElementById('getform').addEventListener('keyup',getform);
            function getform(e){
                e.preventDefault(); //VERY IMPORTANT

                var xhr=new XMLHttpRequest();
                var name=document.getElementById('name').value;
                xhr.open('GET','1.php?name='+name,true);
                xhr.onload=function(){
                    document.getElementById('str1').innerHTML=this.responseText;
                    //console.log(this.responseText);
                }
                xhr.send();
            }

            document.getElementById('postform').addEventListener('keyup',postform);
            function postform(e){
                e.preventDefault(); //VERY IMPORTANT

                var xhr=new XMLHttpRequest();
                var name1=document.getElementById('name2').value;
                var param="name="+name1;
                xhr.open('POST','1.php',true);
                xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");

                xhr.onload=function(){
                    document.getElementById('str2').innerHTML=this.responseText;
                    //console.log(this.responseText);
                }
                xhr.send(param);
            }
        </script>
    </body>
</html>